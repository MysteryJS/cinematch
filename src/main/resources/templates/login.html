<!doctype html>
<html lang="el" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sign up / Login</title>
  <link rel="stylesheet" href="/login/login.css">
</head>

<body>
  <a href="/" class="logo-link" title="CineMatch">
    <img src="/logo.png" alt="CineMatch logo" class="logo-img">
  </a>
  <div class="lang-switcher">
    <button id="lang-btn" class="lang-btn">
      <img id="lang-flag" src="https://flagcdn.com/w40/gb.png" alt="English">
      <span id="lang-text">EN</span>
    </button>
  </div>
  <h1>Sign up / Login</h1>
  <div id="feedback" class="msg hidden"></div>

  <section>
    <h2>Sign up</h2>
    <form id="registerForm" autocomplete="off">
      <label>Username</label>
      <input type="text" id="regName" pattern="^[a-z_]+$" maxlength="30" required />
      <small>Only lowercase and "_", no spaces or uppercase</small>
      <label>Email</label>
      <input type="email" id="regEmail" maxlength="255" required />
      <label>Password (at least 6 characters)</label>
      <input type="password" id="regPassword" minlength="6" required />
      <button type="submit">sign up</button>
    </form>
  </section>

  <section>
    <h2>Login</h2>
    <form method="post" action="/login">
      <label>Username</label>
      <input type="text" name="username" maxlength="30" required />
      <label>Password</label>
      <input type="password" name="password" required />
      <button type="submit">Login</button>
      <div th:if="${param.error}" style="color: red;">Wrong Username or password!</div>
      <div th:if="${param.logout}" style="color: green;">You have been disconnected!</div>
    </form>
  </section>

  <script src="/login/login.js"></script>

</body>
</html>